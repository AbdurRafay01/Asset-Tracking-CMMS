{% extends "tracking/layout.html" %}
{% load static %}

{% block title %}Dashboard{% endblock %}

{% block body %}
   <link rel="stylesheet" type="text/css" href="{% static 'tracking/css/styles.css' %}">
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"></script>

  <h3>Dashboard</h3>
   <div class="container-fluid px-4">
    <div class="row g-3 my-2">
        <div class="col-md-3">
            <div class="p-3 bg-white shadow-sm d-flex justify-content-around align-items-center rounded">
                <div>
                    <p class="fs-5">Total Asset<h3 class="fs-2">:{{total_assets}}</h3></p>
                </div>
                <i class="fas fa-gift fs-1 primary-text border rounded-full secondary-bg p-3"></i>
            </div>
        </div>
        <div class="col-md-3">
          <div class="p-3 bg-white shadow-sm d-flex justify-content-around align-items-center rounded">
              <div>
                  
                  <p class="fs-5">Total Tracker<h3 class="fs-2">:{{total_tracker}}</h3></p>
              </div>
              <i class="fas fa-truck fs-1 primary-text border rounded-full secondary-bg p-3"></i>
          </div>
      </div>

       <div class="col-md-3">
          <div class="p-3 bg-white shadow-sm d-flex justify-content-around align-items-center rounded">
              <div>
                  
                  <p class="fs-5">Total Users<h3 class="fs-2">:{{total_users}}</h3></p>
              </div>
              <i
                  class="fas fa-hand-holding-usd fs-1 primary-text border rounded-full secondary-bg p-3"></i>
          </div>
      </div>
      <div class="col-md-3">
        <div class="p-3 bg-white shadow-sm d-flex justify-content-around align-items-center rounded">
            <div>
                
                <p class="fs-5">Total Jobs<h3 class="fs-2">:{{total_jobs}}</h3></p>
            </div>
            <i class="fas fa-chart-line fs-1 primary-text border rounded-full secondary-bg p-3"></i>
        </div>
    </div>
<div class="container" style="margin-top: 30px;">
    <div class="row my-5">
      <h3 class="fs-4 mb-3">Recent Jobs</h3>
      <div class="col">
          <table class="table bg-white rounded shadow-sm  table-hover">
            {% for job in jobs %}
              <thead>
                  <tr>
                      <th scope="col" width="50">#</th>
                      <th scope="col">Id</th>
                      <th scope="col">Title</th>
                      <th scope="col">Origin</th>
                      <th scope="col">Destination</th>
                  </tr>
              </thead>
              <tbody>
                  <tr>
                      <th scope="row">{{job.id}}</th>
                      <td>{{job.title}}</td>
                      <td>{{job.origin}}</td>
                      <td>{{job.destination}}</td>
                      <td><a href="{% url 'tracking:tracker' job.tracker.tracker.id %}">
                        View Location</a></td>

              </tbody>
          </table>
      </div>
  </div>
    
 {% endfor %}
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        var el = document.getElementById("wrapper");
        var toggleButton = document.getElementById("menu-toggle");

        toggleButton.onclick = function () {
            el.classList.toggle("toggled");
        };
    </script>

  {% endblock %}